<div class="space-y-4">
    <!-- Header -->
    <div class="flex items-center justify-between">
        <h2 class="text-2xl font-bold text-gray-800">관리자 페이지</h2>
        <button
            onclick="window.App.navigate('calendar')"
            class="text-purple-600 hover:text-purple-800 font-medium"
        >
            ← 캘린더로 돌아가기
        </button>
    </div>

    <div class="grid grid-cols-1 gap-6">
        <!-- 1. School Info & Academic Year & Basic Schedule -->
        <div class="bg-white rounded-lg shadow p-6">
            <h3
                class="text-lg font-bold text-gray-700 mb-4 border-b pb-2 flex items-center gap-2"
            >
                <span class="material-symbols-outlined">school</span> 학교 정보 설정
            </h3>

            <!-- Part 1: School Identity Management -->
            <div class="mb-2">
                <div class="bg-blue-50 p-4 rounded-xl border border-blue-100 flex flex-col md:flex-row gap-4 items-end">
                    <div class="flex-grow space-y-3 w-full">
                        <!-- Korean Name -->
                        <div class="flex gap-2">
                             <input type="text" id="setting-school-name-kr" placeholder="학교명 (예: 한글)" 
                                class="flex-grow border rounded-lg px-3 py-2 text-sm bg-white focus:ring-2 focus:ring-blue-500">
                             <select id="setting-school-level-kr" class="w-32 border rounded-lg px-3 py-2 text-sm bg-white focus:ring-2 focus:ring-blue-500">
                                 <option value="초등학교">초등학교</option>
                                 <option value="중학교">중학교</option>
                                 <option value="고등학교" selected>고등학교</option>
                                 <option value="특수학교">특수학교</option>
                                 <option value="학교">학교 (기타)</option>
                             </select>
                        </div>
                        <!-- English Name -->
                        <div class="flex gap-2">
                             <input type="text" id="setting-school-name-en" placeholder="English Name" 
                                class="flex-grow border rounded-lg px-3 py-2 text-sm bg-white focus:ring-2 focus:ring-blue-500">
                             <select id="setting-school-level-en" class="w-32 border rounded-lg px-3 py-2 text-sm bg-white focus:ring-2 focus:ring-blue-500">
                                 <option value="Elementary School">Elementary</option>
                                 <option value="Middle School">Middle</option>
                                 <option value="High School" selected>High School</option>
                                 <option value="School">School</option>
                             </select>
                        </div>
                    </div>
                    <button id="btn-save-school-info" class="shrink-0 bg-purple-600 hover:bg-purple-700 text-white px-4 rounded font-bold shadow transition flex items-center justify-center gap-2 h-[35px] text-sm">
                        <span class="material-symbols-outlined text-base">save</span> 학교 정보 저장
                    </button>
                </div>
            </div>
        </div>
        <div>
            <!-- 2. Basic Schedule -->
            <div class="bg-white p-6 rounded-lg shadow">
                <h2 class="text-xl font-bold text-gray-800 mb-4 border-b pb-2 flex items-center justify-between">
                    <span>기본 학사 일정</span>
                    <span class="text-xs font-normal text-gray-500">* 날짜는 2026-01-12 형식으로 입력하거나 달력 아이콘을 클릭하세요.</span>
                </h2>
                <!-- Part 2: Academic Year Configuration -->
                <div class="flex items-center gap-3 mb-6 bg-purple-50 p-3 rounded-lg border border-purple-100">
                    <span class="material-symbols-outlined text-purple-700">calendar_month</span>
                    <label class="text-sm font-bold text-purple-800">관리 대상 학년도 설정:</label>
                    <select id="setting-academic-year" class="border border-purple-200 rounded px-3 py-1 text-purple-900 font-bold bg-white focus:ring-2 focus:ring-purple-500">
                        <!-- Injected by JS -->
                    </select>
                    <button id="btn-change-year" class="ml-2 bg-purple-100 hover:bg-purple-200 text-purple-800 text-xs px-2 py-1 rounded border border-purple-300 transition">
                        학년도 전환 확인
                    </button>
                </div>

                <!-- 1st Semester -->
                <div class="mb-4">
                    <h3 class="font-semibold text-gray-700 mb-2 border-l-4 border-blue-500 pl-2">1학기 & 여름방학</h3>
                    <div class="grid grid-cols-1 md:grid-cols-12 gap-4 bg-gray-50 p-4 rounded-lg">
                        <div class="md:col-span-3">
                            <label class="block text-sm font-medium text-gray-700 mb-1">1학기 개학일</label>
                            <input type="date" id="sched-sem1-start" min="2000-01-01" max="2100-12-31" class="w-full border rounded-lg px-3 py-2 text-sm bg-white focus:ring-2 focus:ring-blue-200 focus:border-blue-500 transition-colors">
                        </div>
                        <div class="md:col-span-3">
                            <label class="block text-sm font-medium text-gray-700 mb-1">여름방학식</label>
                            <input type="date" id="sched-summer-start-ceremony" data-hint="여름방학 기간" min="2000-01-01" max="2100-12-31" readonly class="w-full border rounded-lg px-3 py-2 text-sm bg-gray-100 focus:outline-none transition-colors">
                        </div>
                        <div class="md:col-span-6">
                            <label class="block text-sm font-medium text-gray-700 mb-1">여름방학 기간</label>
                            <div class="flex flex-col sm:flex-row items-center gap-2">
                                <input type="date" id="sched-summer-start" min="2000-01-01" max="2100-12-31" class="w-full border rounded-lg px-3 py-2 text-sm bg-white focus:ring-2 focus:ring-blue-200 focus:border-blue-500 transition-colors">
                                <span class="hidden sm:inline text-gray-500 font-bold">~</span>
                                <span class="sm:hidden text-gray-400 text-xs self-start">부터</span>
                                <input type="date" id="sched-summer-end" min="2000-01-01" max="2100-12-31" class="w-full border rounded-lg px-3 py-2 text-sm bg-white focus:ring-2 focus:ring-blue-200 focus:border-blue-500 transition-colors">
                                <span class="sm:hidden text-gray-400 text-xs self-end">까지</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 2nd Semester -->
                <div class="mb-4">
                    <h3 class="font-semibold text-gray-700 mb-2 border-l-4 border-indigo-500 pl-2">2학기 & 겨울방학</h3>
                    <div class="grid grid-cols-1 md:grid-cols-12 gap-4 bg-gray-50 p-4 rounded-lg">
                        <div class="md:col-span-3">
                            <label class="block text-sm font-medium text-gray-700 mb-1">2학기 개학일</label>
                            <input type="date" id="sched-sem2-start" data-hint="여름방학 기간" min="2000-01-01" max="2100-12-31" readonly class="w-full border rounded-lg px-3 py-2 text-sm bg-gray-100 focus:outline-none transition-colors">
                        </div>
                        <div class="md:col-span-3">
                            <label class="block text-sm font-medium text-gray-700 mb-1">겨울방학식</label>
                            <input type="date" id="sched-winter-start-ceremony" data-hint="겨울방학 기간" min="2000-01-01" max="2100-12-31" readonly class="w-full border rounded-lg px-3 py-2 text-sm bg-gray-100 focus:outline-none transition-colors">
                        </div>
                        <div class="md:col-span-6">
                            <label class="block text-sm font-medium text-gray-700 mb-1">겨울방학 기간</label>
                            <div class="flex flex-col sm:flex-row items-center gap-2">
                                <input type="date" id="sched-winter-start" min="2000-01-01" max="2100-12-31" class="w-full border rounded-lg px-3 py-2 text-sm bg-white focus:ring-2 focus:ring-indigo-200 focus:border-indigo-500 transition-colors">
                                <span class="hidden sm:inline text-gray-500 font-bold">~</span>
                                <span class="sm:hidden text-gray-400 text-xs self-start">부터</span>
                                <input type="date" id="sched-winter-end" min="2000-01-01" max="2100-12-31" class="w-full border rounded-lg px-3 py-2 text-sm bg-white focus:ring-2 focus:ring-indigo-200 focus:border-indigo-500 transition-colors">
                                <span class="sm:hidden text-gray-400 text-xs self-end">까지</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Spring Semester -->
                <div class="mb-4">
                    <h3 class="font-semibold text-gray-700 mb-2 border-l-4 border-green-500 pl-2">봄방학 (선택입력)</h3>
                    <div class="grid grid-cols-1 md:grid-cols-12 gap-4 bg-gray-50 p-4 rounded-lg">
                         <div class="md:col-span-3">
                            <label class="block text-sm font-medium text-gray-700 mb-1">봄 개학일</label>
                            <input type="date" id="sched-spring-sem-start" data-hint="겨울방학 기간" min="2000-01-01" max="2100-12-31" readonly class="w-full border rounded-lg px-3 py-2 text-sm bg-gray-100 focus:outline-none transition-colors">
                        </div>
                        <div class="md:col-span-3">
                            <label class="block text-sm font-medium text-gray-700 mb-1">봄방학식</label>
                            <input type="date" id="sched-spring-start-ceremony" data-hint="봄방학 기간" min="2000-01-01" max="2100-12-31" readonly class="w-full border rounded-lg px-3 py-2 text-sm bg-gray-100 focus:outline-none transition-colors">

                        </div>
                        <div class="md:col-span-6">
                            <label class="block text-sm font-medium text-gray-700 mb-1">봄방학 기간</label>
                            <div class="flex flex-col sm:flex-row items-center gap-2">
                                <input type="date" id="sched-spring-start" min="2000-01-01" max="2100-12-31" class="w-full border rounded-lg px-3 py-2 text-sm bg-white focus:ring-2 focus:ring-green-200 focus:border-green-500 transition-colors">
                                <span class="hidden sm:inline text-gray-500 font-bold">~</span>
                                <span class="sm:hidden text-gray-400 text-xs self-start">부터</span>
                                <input type="date" id="sched-spring-end" data-hint="학년도" min="2000-01-01" max="2100-12-31" readonly class="w-full border rounded-lg px-3 py-2 text-sm bg-gray-100 focus:outline-none transition-colors">
                                <span class="sm:hidden text-gray-400 text-xs self-end">까지</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Exam Periods -->
                <div class="mb-4">
                    <h3 class="font-semibold text-gray-700 mb-2 border-l-4 border-red-500 pl-2">고사기간 (지필평가)</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 bg-gray-50 p-4 rounded-lg">
                        <!-- 1st Semester -->
                        <div>
                             <label class="block text-sm font-medium text-gray-700 mb-1">1학기 1차지필</label>
                             <div class="flex items-center gap-2">
                                <input type="date" id="sched-exam-1-1-start" min="2000-01-01" max="2100-12-31" class="w-full border rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-red-200 transition-colors">
                                <span class="text-gray-400">~</span>
                                <input type="date" id="sched-exam-1-1-end" min="2000-01-01" max="2100-12-31" class="w-full border rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-red-200 transition-colors">
                             </div>
                        </div>
                        <div>
                             <label class="block text-sm font-medium text-gray-700 mb-1">1학기 2차지필</label>
                             <div class="flex items-center gap-2">
                                <input type="date" id="sched-exam-1-2-start" min="2000-01-01" max="2100-12-31" class="w-full border rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-red-200 transition-colors">
                                <span class="text-gray-400">~</span>
                                <input type="date" id="sched-exam-1-2-end" min="2000-01-01" max="2100-12-31" class="w-full border rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-red-200 transition-colors">
                             </div>
                        </div>
                        
                        <!-- 2nd Semester -->
                        <div>
                             <label class="block text-sm font-medium text-gray-700 mb-1">2학기 1차지필</label>
                             <div class="flex items-center gap-2">
                                <input type="date" id="sched-exam-2-1-start" min="2000-01-01" max="2100-12-31" class="w-full border rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-red-200 transition-colors">
                                <span class="text-gray-400">~</span>
                                <input type="date" id="sched-exam-2-1-end" min="2000-01-01" max="2100-12-31" class="w-full border rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-red-200 transition-colors">
                             </div>
                        </div>
                        <div>
                             <label class="block text-sm font-medium text-gray-700 mb-1">2학기 2차지필</label>
                             <div class="flex items-center gap-2">
                                <input type="date" id="sched-exam-2-2-start" min="2000-01-01" max="2100-12-31" class="w-full border rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-red-200 transition-colors">
                                <span class="text-gray-400">~</span>
                                <input type="date" id="sched-exam-2-2-end" min="2000-01-01" max="2100-12-31" class="w-full border rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-red-200 transition-colors">
                             </div>
                        </div>
                        
                        <!-- 3rd Year Optional -->
                        <div>
                             <label class="block text-sm font-medium text-gray-700 mb-1">3학년 2학기 2차지필 (선택)</label>
                             <div class="flex items-center gap-2">
                                <input type="date" id="sched-exam-3-2-2-start" min="2000-01-01" max="2100-12-31" class="w-full border rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-red-200 transition-colors">
                                <span class="text-gray-400">~</span>
                                <input type="date" id="sched-exam-3-2-2-end" min="2000-01-01" max="2100-12-31" class="w-full border rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-red-200 transition-colors">
                             </div>
                        </div>
                    </div>
                </div>
                
                <!-- Holidays & Events (Moved Inside for consistency or separate?) -->
                <!-- The user wanted group layout, let's keep holidays in this big "Basic Schedule" block or just after -->
                
                <h2 class="text-xl font-bold text-gray-800 mb-4 mt-14 border-b pb-2">공휴일 및 행사 관리</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <!-- Fixed Holidays -->
                    <div>
                        <h5 class="text-xs font-bold text-gray-500 uppercase mb-2">
                            기본 공휴일 (날짜 자동 지정)
                        </h5>
                        <div class="bg-gray-50 p-3 rounded max-h-60 overflow-y-auto space-y-2 text-sm" id="fixed-holidays-list">
                            <!-- Injected by JS: 3.1, 5.5, etc -->
                        </div>
                    </div>
                    <!-- Variable Holidays -->
                    <div>
                        <h5 class="text-xs font-bold text-gray-500 uppercase mb-2">
                            비정기휴무일, 재량휴업일 등 (직접 입력)
                        </h5>
                        <div id="variable-holidays-container" class="space-y-2 bg-gray-50 p-3 rounded max-h-60 overflow-y-auto">
                            <!-- Dynamic Inputs -->
                        </div>
                        <button
                            type="button"
                            id="btn-add-holiday"
                            class="mt-2 text-xs text-purple-600 hover:text-purple-800 flex items-center gap-1 font-semibold"
                        >
                            <span class="material-symbols-outlined text-sm">add_circle</span> 항목 추가
                        </button>
                    </div>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mt-6">
                    <!-- Major Events (Dynamic) -->
                    <div>
                        <h5 class="text-xs font-bold text-gray-500 uppercase mb-2">
                             주요 행사 (체육대회, 축제 등 직접 입력)
                        </h5>
                        <div id="major-events-container" class="space-y-2 bg-gray-50 p-3 rounded max-h-60 overflow-y-auto">
                            <!-- Dynamic Inputs -->
                        </div>
                        <button
                            type="button"
                            id="btn-add-major-event"
                            class="mt-2 text-xs text-blue-600 hover:text-blue-800 flex items-center gap-1 font-semibold"
                        >
                            <span class="material-symbols-outlined text-sm">add_circle</span> 행사 추가
                        </button>
                    </div>

                    <!-- Environmental Anniversaries (Fixed) -->
                    <div>
                        <h5 class="text-xs font-bold text-gray-500 uppercase mb-2">
                            환경기념일 (자동 표시)
                        </h5>
                        <div class="bg-gray-50 p-3 rounded max-h-60 overflow-y-auto space-y-2 text-sm" id="fixed-env-events-list">
                            <!-- Injected by JS -->
                        </div>
                    </div>
                </div>

                <div class="mt-8 pt-4 border-t flex justify-end">
                    <button
                        id="btn-save-settings"
                        class="bg-purple-600 hover:bg-purple-700 text-white px-4 rounded font-bold shadow transition flex items-center justify-center gap-2 h-[35px] text-sm"
                    >
                        <span class="material-symbols-outlined text-base">save</span>
                        학년도 및 기본 학사 일정 저장
                    </button>
                </div>
            </div>
        </div>
        <div>
            <!-- 2. Department Management -->
            <div class="bg-white rounded-lg shadow p-6">
            <h3
                class="text-lg font-bold text-gray-700 mb-4 border-b pb-2 flex items-center gap-2"
            >
                <span class="material-symbols-outlined">diversity_3</span> 부서
                관리
            </h3>

            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                <!-- General Departments -->
                <div>
                    <h4 class="font-bold text-gray-800 mb-2 text-sm">
                        일반 부서 설정
                    </h4>
                    <p class="text-xs text-gray-500 mb-3">
                        부서명과 색상을 지정하세요. 빈 칸은 저장되지 않습니다.
                    </p>
                    <div id="admin-dept-list" class="space-y-2">
                        <!-- Dept Inputs injected by JS -->
                    </div>
                    <button
                        id="btn-add-dept-slot"
                        class="mt-3 w-full border border-dashed border-gray-300 rounded py-2 text-sm text-gray-500 hover:bg-gray-50 hover:text-gray-700 flex items-center justify-center gap-1 transition"
                    >
                        <span class="material-symbols-outlined text-sm"
                        >add_circle</span> 부서 추가
                    </button>
                </div>

                <!-- Special Departments -->
                <div>
                    <h4 class="font-bold text-gray-800 mb-2 text-sm">
                        행정부서/수석/관리자 설정
                    </h4>
                    <p class="text-xs text-gray-500 mb-3">
                        사용할 직책이나 부서를 체크하세요.
                    </p>
                    <div
                        id="admin-special-dept-list"
                        class="space-y-2"
                    >
                        <!-- Checkboxes injected by JS -->
                    </div>
                </div>
            </div>

            <div class="mt-6 pt-4 border-t flex justify-end">
                <button
                    id="btn-save-depts"
                    class="bg-purple-600 hover:bg-purple-700 text-white px-4 rounded font-bold shadow transition flex items-center justify-center gap-2 h-[35px] text-sm"
                >
                    <span class="material-symbols-outlined text-base">save</span> 부서
                    설정 저장
                </button>
            </div>
        </div>


        </div>
        

        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
            <!-- 3. User Management -->
            <div class="bg-white rounded-lg shadow p-6">
                <h3
                    class="text-lg font-bold text-gray-700 mb-4 border-b pb-2 flex items-center gap-2"
                >
                    <span class="material-symbols-outlined">manage_accounts</span>
                    사용자 권한 관리
                </h3>
                <div
                    id="admin-user-list"
                    class="space-y-3 max-h-96 overflow-y-auto"
                >
                    <p class="text-gray-400 text-sm text-center py-4">
                        사용자 목록 로딩 중...
                    </p>
                </div>
            </div>
            <!-- 4. System & Logs -->
            <div class="bg-white rounded-lg shadow p-6">
                <h3 class="text-lg font-bold text-gray-700 mb-4 border-b pb-2">
                    최근 활동 로그
                </h3>
                <div
                    id="admin-audit-list"
                    class="space-y-2 text-xs text-gray-600 max-h-60 overflow-y-auto"
                >
                    <p class="text-gray-400 text-center py-4">
                        로그 로딩 중...
                    </p>
                </div>
            </div>
            <!-- Data Management (Restored) -->
            <div class="bg-white rounded-lg shadow p-6">
                <h3 class="text-lg font-bold text-gray-700 mb-4 border-b pb-2">
                    데이터 관리
                </h3>
                <div
                    class="border rounded p-4 hover:bg-purple-50 hover:border-purple-200 transition cursor-pointer"
                    id="btn-open-excel"
                    onclick="window.App.openExcelModal()"
                >
                    <h4 class="font-bold text-gray-800">📊 엑셀 일괄 업로드</h4>
                    <p class="text-xs text-gray-500 mt-1">
                        학년도 초기 일정을 엑셀로 한 번에 등록합니다.
                    </p>
                </div>
            </div>
        </div>
    </div>


</div>
